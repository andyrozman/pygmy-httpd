<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_06) on Sun Jun 25 15:32:41 EDT 2006 -->
<TITLE>
Server
</TITLE>

<META NAME="keywords" CONTENT="pygmy.core.Server class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../java-style.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Server";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../pygmy/core/ServerSocketEndPoint.html" title="class in pygmy.core"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?pygmy/core/Server.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Server.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
pygmy.core</FONT>
<BR>
Class Server</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>pygmy.core.Server</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>Server</B><DT>extends java.lang.Object<DT>implements java.lang.Runnable</DL>
</PRE>

<P>
<p>
 Server is the core of the system.  A server glues together <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s
 and <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A>s.  <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A>s are responsible for reading the
 <A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core"><CODE>HttpRequest</CODE></A> from a source and sending the HttpResponse over that source.
 <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A>s then sends the request to the <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A> by calling the post()
 method on the server to send the request to this server's <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s.  <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s
 process the <A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core"><CODE>HttpRequest</CODE></A> and produce an appropriate <A HREF="../../pygmy/core/HttpResponse.html" title="class in pygmy.core"><CODE>HttpResponse</CODE></A>.
 </p><p>
 The server contains the configuration for the entire server.  What are the expected values
 in the configuration is mainly controlled by what handlers and endpoints are configured.
 Depending on which handlers and endpoints have been enabled, the configuration will vary.
 The only two parameters are required: <i>handler</i> and <i>&lt;handler's name&gt;.class</i>.
 Here is an example configuration:
 </p><pre>
 <div class="code">
 handler=my\ handler
 my\ handler.class=pygmy.handlers.DefaultChainHandler
 my\ handler.chain=handler1, handler2
 my\ handler.url-prefix=/

 handler1.class=pygmy.handlers.FileHandler
 handler1.root=C:\temp
 handler1.url-prefix=/home-directory

 handler2.class=pygmy.handlers.ResourceHandler
 handler2.url-prefix=/jar
 handler2.resourceMount=/html
 handler2.default=index.html
 </pre>
 </div
 <p>
 In the above configuration, <i>handler</i> property is the name of first handler.
 The name is used to find all the other properties for that particular handler.
 The .class property is used to tell the Server the name of the class to instantiate.
 The two other properties, .chain and .url-prefix, are particular to the
 <A HREF="../../pygmy/handlers/DefaultChainHandler.html" title="class in pygmy.handlers"><CODE>DefaultChainHandler</CODE></A>.
 </p><p>
 Server's only have <b>one</b> <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>.  However, the power of
 <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s is the ability to have more than one. The
 <A HREF="../../pygmy/handlers/DefaultChainHandler.html" title="class in pygmy.handlers"><CODE>DefaultChainHandler</CODE></A> provides the ability to create a
 chain of multiple handlers.  See <A HREF="../../pygmy/handlers/DefaultChainHandler.html" title="class in pygmy.handlers"><CODE>DefaultChainHandler</CODE></A> for
 information on configuring it.
 </p><p>
 Server also contains a set of <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A>s.  When the server initializes
 itself it looks in the configuration for the <i>endpoints</i> parameter.  The <i>endpoints</i>
 parameter contains a space seperated list of the names of the endpoints this server will
 create.  For each name in the list it will look for a config parameter
 <i>&lt;name of endpoint&gt;.class</i> in the configuration.  It will instantiate the classname
 using the no-argument constructor and add it to the set of endpoints in the server.
 </p><p>
 If the server does not find the <i>endpoints</i> parameter, then it will create a default EndPoint
 of type <A HREF="../../pygmy/core/ServerSocketEndPoint.html" title="class in pygmy.core"><CODE>ServerSocketEndPoint</CODE></A> named http.  Here is an example of using the <i>endpoints</i>
 parameter:
 </p>
 <div class="code">
 <pre>
 endpoints=endpoint1 endpoint2
 handler=handler1

 endpoint1.class=my.package.MyEndPoint
 endpoint1.param1=foo
 endpoint1.param2=bar
 endpoint2.class=my.package.AnotherEndPoint
 endpoint2.param1=foo
 endpoint2.param2=bar
 endpoint2.param3=baz
 ...
 </pre>
 </div>
 <p>
 Server class looks for the following properties in the configuration:
 </p>
 <table class="inner">
 <tr class="header"><td>Parameter Name</td><td>Default Value</td><td>Required</td></tr>
 <tr class="row"><td>handler</td><td>None</td><td>Yes</td></tr>
 <tr class="altrow"><td>endpoints</td><td>http</td><td>No</td></tr>
 <tr class="row"><td>&lt;handler name&gt;.class</td><td>None</td><td>Yes</td></tr>
 <tr class="altrow"><td>&lt;endpoint name&gt;.class</td><td>None</td><td>iff endpoints param is defined</td></tr>
 <tr class="row"><td>threadpool.size</td><td>5</td><td>No</td></tr>
 </table>
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#Server(java.util.Properties)">Server</A></B>(java.util.Properties&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This creates a server using the given configuration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#Server(java.lang.String)">Server</A></B>(java.lang.String&nbsp;filename)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This creates a server using the given filename as the configuration for this server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#Server(java.lang.String[])">Server</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This creates a server from commandline arguments.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#addEndPoint(java.lang.String, pygmy.core.EndPoint)">addEndPoint</A></B>(java.lang.String&nbsp;name,
            <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core">EndPoint</A>&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds an <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A> to this server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#constructPygmyObject(java.lang.String)">constructPygmyObject</A></B>(java.lang.String&nbsp;objectName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the method used to construct pygmy objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#get(java.lang.Object)">get</A></B>(java.lang.Object&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This returns the object stored under the given key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Properties</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getConfig()">getConfig</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the configuration for the server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getProperty(java.lang.String)">getProperty</A></B>(java.lang.String&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the property stored under the key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getProperty(java.lang.String, java.lang.String)">getProperty</A></B>(java.lang.String&nbsp;key,
            java.lang.String&nbsp;defaultValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the property stored under the key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getRegisteredComponent(java.lang.Class)">getRegisteredComponent</A></B>(java.lang.Class&nbsp;clazz)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core">ResponseListener</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getResponseListeners()">getResponseListeners</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the instance of the ResponseListener for this Server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#hasProperty(java.lang.String)">hasProperty</A></B>(java.lang.String&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true iff the key is in the configuration</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#initializeHandler()">initializeHandler</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#loadConfiguration(java.lang.String, java.util.Properties)">loadConfiguration</A></B>(java.lang.String&nbsp;config,
                  java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#post(pygmy.core.Request, pygmy.core.Response)">post</A></B>(<A HREF="../../pygmy/core/Request.html" title="class in pygmy.core">Request</A>&nbsp;request,
     <A HREF="../../pygmy/core/Response.html" title="class in pygmy.core">Response</A>&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to post a <A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core"><CODE>HttpRequest</CODE></A> to the server's handler.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#post(java.lang.Runnable)">post</A></B>(java.lang.Runnable&nbsp;runnable)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method posts a Runnable onto the Server's task queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#processArguments(java.lang.String[], java.util.Properties)">processArguments</A></B>(java.lang.String[]&nbsp;args,
                 java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#putProperty(java.lang.Object, java.lang.Object)">putProperty</A></B>(java.lang.Object&nbsp;key,
            java.lang.Object&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This puts a configuration property into the server's configuration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#registerComponent(java.lang.Object)">registerComponent</A></B>(java.lang.Object&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is called when a program wants to register a shared component for Handlers to have access to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is called when the server is shutdown thread is called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#setResponseListener(pygmy.core.ResponseListener)">setResponseListener</A></B>(<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core">ResponseListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This sets the ResponseListener for entire server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#shutdown()">shutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will shutdown the Handler, and call <A HREF="../../pygmy/core/EndPoint.html#shutdown(pygmy.core.Server)"><CODE>EndPoint.shutdown(pygmy.core.Server)</CODE></A> on each EndPoint.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called to start the web server.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Server(java.lang.String)"><!-- --></A><H3>
Server</H3>
<PRE>
public <B>Server</B>(java.lang.String&nbsp;filename)
       throws java.io.IOException</PRE>
<DL>
<DD>This creates a server using the given filename as the configuration for this server.  The configuration file
 should follow format of normal <CODE>Properties</CODE> file.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>filename</CODE> - the path to a file to use as the configuration of this server.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>
<HR>

<A NAME="Server(java.util.Properties)"><!-- --></A><H3>
Server</H3>
<PRE>
public <B>Server</B>(java.util.Properties&nbsp;config)</PRE>
<DL>
<DD>This creates a server using the given configuration.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>config</CODE> - the configuration to use for this server.</DL>
</DL>
<HR>

<A NAME="Server(java.lang.String[])"><!-- --></A><H3>
Server</H3>
<PRE>
public <B>Server</B>(java.lang.String[]&nbsp;args)
       throws java.io.IOException</PRE>
<DL>
<DD>This creates a server from commandline arguments.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>args</CODE> - an array of config parameters, the format of the list is a '-' followed by either 'config' or some
 name of a parameter (i.e. http.port), and a space and a value for that property.  All -config will load a file
 either from the filesystem or the class path if the file doesn't exist on the filesystem.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addEndPoint(java.lang.String, pygmy.core.EndPoint)"><!-- --></A><H3>
addEndPoint</H3>
<PRE>
public void <B>addEndPoint</B>(java.lang.String&nbsp;name,
                        <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core">EndPoint</A>&nbsp;endpoint)</PRE>
<DL>
<DD>This method adds an <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A> to this server.  It will be initialized once the <A HREF="../../pygmy/core/Server.html#start()"><CODE>start()</CODE></A> method is called.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - The name of this EndPoint instance.<DD><CODE>endpoint</CODE> - The instance of the endpoint to add.</DL>
</DD>
</DL>
<HR>

<A NAME="putProperty(java.lang.Object, java.lang.Object)"><!-- --></A><H3>
putProperty</H3>
<PRE>
public void <B>putProperty</B>(java.lang.Object&nbsp;key,
                        java.lang.Object&nbsp;value)</PRE>
<DL>
<DD>This puts a configuration property into the server's configuration.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - The unique key to store the value under.<DD><CODE>value</CODE> - The value of the key.</DL>
</DD>
</DL>
<HR>

<A NAME="getProperty(java.lang.String)"><!-- --></A><H3>
getProperty</H3>
<PRE>
public java.lang.String <B>getProperty</B>(java.lang.String&nbsp;key)</PRE>
<DL>
<DD>Returns the property stored under the key.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the configuration key to look up.
<DT><B>Returns:</B><DD>the value stored in the configuration at this key.</DL>
</DD>
</DL>
<HR>

<A NAME="getProperty(java.lang.String, java.lang.String)"><!-- --></A><H3>
getProperty</H3>
<PRE>
public java.lang.String <B>getProperty</B>(java.lang.String&nbsp;key,
                                    java.lang.String&nbsp;defaultValue)</PRE>
<DL>
<DD>Returns the property stored under the key.  If there isn't a property called key, then it returns the defaultValue.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the configuration key to look up.<DD><CODE>defaultValue</CODE> - the defaultValue returned if nothing is found under the key.
<DT><B>Returns:</B><DD>the value stored in the configuration at this key.</DL>
</DD>
</DL>
<HR>

<A NAME="hasProperty(java.lang.String)"><!-- --></A><H3>
hasProperty</H3>
<PRE>
public boolean <B>hasProperty</B>(java.lang.String&nbsp;key)</PRE>
<DL>
<DD>Returns true iff the key is in the configuration
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the name of the key.
<DT><B>Returns:</B><DD>true if and only if the key is contained in the configuration. False otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="get(java.lang.Object)"><!-- --></A><H3>
get</H3>
<PRE>
public java.lang.Object <B>get</B>(java.lang.Object&nbsp;key)</PRE>
<DL>
<DD>This returns the object stored under the given key.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the key to look up the stored object.
<DT><B>Returns:</B><DD>the object stored at the given key.</DL>
</DD>
</DL>
<HR>

<A NAME="getConfig()"><!-- --></A><H3>
getConfig</H3>
<PRE>
public java.util.Properties <B>getConfig</B>()</PRE>
<DL>
<DD>Returns the configuration for the server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the configuration for the server.</DL>
</DD>
</DL>
<HR>

<A NAME="getRegisteredComponent(java.lang.Class)"><!-- --></A><H3>
getRegisteredComponent</H3>
<PRE>
public java.lang.Object <B>getRegisteredComponent</B>(java.lang.Class&nbsp;clazz)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="registerComponent(java.lang.Object)"><!-- --></A><H3>
registerComponent</H3>
<PRE>
public void <B>registerComponent</B>(java.lang.Object&nbsp;object)</PRE>
<DL>
<DD>This is called when a program wants to register a shared component for Handlers to have access to.  The objects's
 class will be the defining key for identitying the object.  Registering more than one instance will not
 be supported.  If you're program must differ between two instances, then register a manager and allow the
 Handler's to interact with that to differentiate the individual instances.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>object</CODE> - the object the user wants to make available to Handler instances.</DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public void <B>start</B>()</PRE>
<DL>
<DD>This method is called to start the web server.  It will initialize the server's Handler and all the EndPoints
 then call the <A HREF="../../pygmy/core/EndPoint.html#start()"><CODE>EndPoint.start()</CODE></A> on each EndPoint.  This method will return after the above steps are
 done.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initializeHandler()"><!-- --></A><H3>
initializeHandler</H3>
<PRE>
protected void <B>initializeHandler</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="constructPygmyObject(java.lang.String)"><!-- --></A><H3>
constructPygmyObject</H3>
<PRE>
public java.lang.Object <B>constructPygmyObject</B>(java.lang.String&nbsp;objectName)</PRE>
<DL>
<DD>This is the method used to construct pygmy objects.  Given the object name it appends .class onto the end and
 looks for the classname in the server's configuration.  It then analyzes the class's constructor parameters for
 objects that it depends on.  Then it looks those objects up by class in the registered object pool.  Finally, it
 calls the constructor using reflection passing any registered objects as arguments.  It returns
 the newly constructed object or null if there was a problem.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>objectName</CODE> - the name of the object defined in the server's configuration.
<DT><B>Returns:</B><DD>the newly constructed object, or null there was a problem instantiated the object.</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>This is called when the server is shutdown thread is called.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown()"><!-- --></A><H3>
shutdown</H3>
<PRE>
public void <B>shutdown</B>()</PRE>
<DL>
<DD>This method will shutdown the Handler, and call <A HREF="../../pygmy/core/EndPoint.html#shutdown(pygmy.core.Server)"><CODE>EndPoint.shutdown(pygmy.core.Server)</CODE></A> on each EndPoint.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="post(pygmy.core.Request, pygmy.core.Response)"><!-- --></A><H3>
post</H3>
<PRE>
public boolean <B>post</B>(<A HREF="../../pygmy/core/Request.html" title="class in pygmy.core">Request</A>&nbsp;request,
                    <A HREF="../../pygmy/core/Response.html" title="class in pygmy.core">Response</A>&nbsp;response)
             throws java.io.IOException</PRE>
<DL>
<DD>This method is used to post a <A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core"><CODE>HttpRequest</CODE></A> to the server's handler.  It will create a HttpResponse
 for the EndPoint to send to the client.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - 
<DT><B>Returns:</B><DD>A HttpResponse that corresponds to the HttpRequest being handled.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="post(java.lang.Runnable)"><!-- --></A><H3>
post</H3>
<PRE>
public void <B>post</B>(java.lang.Runnable&nbsp;runnable)</PRE>
<DL>
<DD>This method posts a Runnable onto the Server's task queue.  The server's <A HREF="../../pygmy/core/ThreadPool.html" title="class in pygmy.core"><CODE>ThreadPool</CODE></A> will service the
 runnable once a thread is freed up.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>runnable</CODE> - An instance of Runnable that the user wishes to run on the server's <A HREF="../../pygmy/core/ThreadPool.html" title="class in pygmy.core"><CODE>ThreadPool</CODE></A>.</DL>
</DD>
</DL>
<HR>

<A NAME="getResponseListeners()"><!-- --></A><H3>
getResponseListeners</H3>
<PRE>
public <A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core">ResponseListener</A> <B>getResponseListeners</B>()</PRE>
<DL>
<DD>Returns the instance of the ResponseListener for this Server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the ResponseListener for this Server, or null if there is none.</DL>
</DD>
</DL>
<HR>

<A NAME="setResponseListener(pygmy.core.ResponseListener)"><!-- --></A><H3>
setResponseListener</H3>
<PRE>
public void <B>setResponseListener</B>(<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core">ResponseListener</A>&nbsp;listener)</PRE>
<DL>
<DD>This sets the ResponseListener for entire server.  All replys being sent to any client will
 be notified to this instance.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - the instance of a ResponseListener to use for this Server.</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;args)
                 throws java.io.IOException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="processArguments(java.lang.String[], java.util.Properties)"><!-- --></A><H3>
processArguments</H3>
<PRE>
protected void <B>processArguments</B>(java.lang.String[]&nbsp;args,
                                java.util.Properties&nbsp;props)
                         throws java.io.IOException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadConfiguration(java.lang.String, java.util.Properties)"><!-- --></A><H3>
loadConfiguration</H3>
<PRE>
protected void <B>loadConfiguration</B>(java.lang.String&nbsp;config,
                                 java.util.Properties&nbsp;props)
                          throws java.io.IOException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../pygmy/core/ServerSocketEndPoint.html" title="class in pygmy.core"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?pygmy/core/Server.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Server.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
