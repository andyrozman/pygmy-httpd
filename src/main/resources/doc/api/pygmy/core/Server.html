<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_10-rc2) on Wed Jan 21 12:26:54 EST 2009 -->
<TITLE>
Server
</TITLE>

<META NAME="date" CONTENT="2009-01-21">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../java-style.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Server";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../pygmy/core/ServerSocketEndPoint.html" title="class in pygmy.core"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?pygmy/core/Server.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Server.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
pygmy.core</FONT>
<BR>
Class Server</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>pygmy.core.Server</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>Server</B><DT>extends java.lang.Object<DT>implements java.lang.Runnable</DL>
</PRE>

<P>
<p>
 Server is the core of the system.  A server glues together <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s
 and <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A>s.  <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A>s are responsible for reading the
 <A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core"><CODE>HttpRequest</CODE></A> from a source and sending the HttpResponse over that source.
 <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A>s then sends the request to the <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A> by calling the post()
 method on the server to send the request to this server's <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s.  <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s
 process the <A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core"><CODE>HttpRequest</CODE></A> and produce an appropriate <A HREF="../../pygmy/core/HttpResponse.html" title="class in pygmy.core"><CODE>HttpResponse</CODE></A>.
 </p>
 The server is configured through Java code (in prior releases it used a properties file that
 has been removed).  The server by itself is not very useful so it needs to be configured
 by adding any number of <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s to it.  Handlers are attached or mounted
 onto a <A HREF="../../pygmy/core/UrlRule.html" title="class in pygmy.core"><CODE>UrlRule</CODE></A>.  When the given <A HREF="../../pygmy/core/UrlRule.html" title="class in pygmy.core"><CODE>UrlRule</CODE></A> matches the
 request that <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A> is invoked to handle the request.  Here is a quick
 example:
 </p>

 <div class="code">
 public static void main( String[] args ) {
    Server server = new Server();
    server.add( new UrlRule("/"), new FileHandler("/home/charlie/public_html").allowDirectoryListing(true) );
    server.start();
 }
 </div>
 <p>
 Here we are setting up a single <A HREF="../../pygmy/core/UrlRule.html" title="class in pygmy.core"><CODE>UrlRule</CODE></A> that responds to urls starting with / (i.e. root), and
 mapping that onto the file system path of "/home/charlie/public_html" using a
 <A HREF="../../pygmy/handlers/FileHandler.html" title="class in pygmy.handlers"><CODE>FileHandler</CODE></A>.  So any files inside that root directory are visible to our web clients.
 We've also turned on directory listings so requests that map to directories will result in a directory
 list of all the files in them.  By default there are some images that the directory listing uses that
 ship with Pygmy so we can also server those up using the <A HREF="../../pygmy/handlers/ResourceHandler.html" title="class in pygmy.handlers"><CODE>ResourceHandler</CODE></A>.  Here is
 an example of setting that up.
 </p>

 <div class="code">
 public static void main( String[] args ) {
    Server server = new Server();
    server.add( new UrlRule("/web", new ResourceHandler("/pygmy/web") );
    server.add( new UrlRule("/"), new FileHandler("/home/charlie/public_html").allowDirectoryListing(true) );
    server.start();
 }
 </div>
 <p>
 Notice the rule for "/web" was added before "/" rule.  The more specific url (i.e. "/web") will be matched
 first hence intercepting our least specific rule (i.e. "/").  <b>The first UrlRule to match wins</b>.
 Keep that in mind when adding your Handlers.  So what these rules accomplish are all requests made to
 "/web" will be routed to our <A HREF="../../pygmy/handlers/ResourceHandler.html" title="class in pygmy.handlers"><CODE>ResourceHandler</CODE></A> which will server up files from a
 path inside our jar file or classpath.  All other requests will be served up from the file system under
 "/home/charlie/public_html".
 </p>
 <p>
 As mentioned above Server class is a collection <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core"><CODE>Handler</CODE></A>s and <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A>s.
 By default Server will create a default endpoint of type <A HREF="../../pygmy/core/ServerSocketEndPoint.html" title="class in pygmy.core"><CODE>ServerSocketEndPoint</CODE></A> named http
 if there are no other endpoints added.  Here is an example of adding more than one endpoint.
 </p>
 <div class="code">
 public static void main( String[] args ) {
    File keystoreFile = new File("mykeystore.ks");
    Server server = new Server();
    server.add( new UrlRule("/"), new FileHandler("/home/charlie/public_html").allowDirectoryListing(true) );
    server.add( "http", new ServerSocketEndPoint( 8080 ) );
    server.add( "https", new SSLServerSocketEndPoint( keystoreFile, "myCert", "supersecretpassword" ) );
    server.start();
 }
 </div>
 <p>
 Here we have two endpoints being registered.  One is a plain old http endpoint on port 8080 (default is 80),
 and another endpoint that talks https.  The <A HREF="../../pygmy/core/SSLServerSocketEndPoint.html" title="class in pygmy.core"><CODE>SSLServerSocketEndPoint</CODE></A> requires a
 keystore, certificate alias, and a password to unlock the keystore.  So now the server will respond to
 normal http requests on port 8080, and secure http on port 143 (the default).
 </p>
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#Server()">Server</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#add(java.lang.String, pygmy.core.EndPoint)">add</A></B>(java.lang.String&nbsp;name,
    <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core">EndPoint</A>&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds an <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A> to this server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../pygmy/core/Server.html" title="class in pygmy.core">Server</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#add(pygmy.core.UrlRule, pygmy.core.Handler)">add</A></B>(<A HREF="../../pygmy/core/UrlRule.html" title="class in pygmy.core">UrlRule</A>&nbsp;rule,
    <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core">Handler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attaches a Handler object to this UrlRule pattern.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#configureLogging(java.util.Properties)">configureLogging</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#get(java.lang.Object)">get</A></B>(java.lang.Object&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This returns the object stored under the given key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Properties</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getConfig()">getConfig</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the configuration for the server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getProperty(java.lang.String)">getProperty</A></B>(java.lang.String&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the property stored under the key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getProperty(java.lang.String, java.lang.String)">getProperty</A></B>(java.lang.String&nbsp;key,
            java.lang.String&nbsp;defaultValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the property stored under the key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core">ResponseListener</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#getResponseListeners()">getResponseListeners</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the instance of the ResponseListener for this Server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#hasProperty(java.lang.String)">hasProperty</A></B>(java.lang.String&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true iff the key is in the configuration</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#post(pygmy.core.HttpRequest, pygmy.core.HttpResponse)">post</A></B>(<A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core">HttpRequest</A>&nbsp;request,
     <A HREF="../../pygmy/core/HttpResponse.html" title="class in pygmy.core">HttpResponse</A>&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to post a <A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core"><CODE>HttpRequest</CODE></A> to the server's handler.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#post(java.lang.Runnable)">post</A></B>(java.lang.Runnable&nbsp;runnable)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method posts a Runnable onto the Server's task queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#putProperty(java.lang.Object, java.lang.Object)">putProperty</A></B>(java.lang.Object&nbsp;key,
            java.lang.Object&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This puts a configuration property into the server's configuration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is called when the server is shutdown thread is called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#setResponseListener(pygmy.core.ResponseListener)">setResponseListener</A></B>(<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core">ResponseListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This sets the ResponseListener for entire server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#shutdown()">shutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will shutdown the Handler, and call <A HREF="../../pygmy/core/EndPoint.html#shutdown(pygmy.core.Server)"><CODE>EndPoint.shutdown(pygmy.core.Server)</CODE></A> on each EndPoint.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../pygmy/core/Server.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called to start the web server.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Server()"><!-- --></A><H3>
Server</H3>
<PRE>
public <B>Server</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="add(java.lang.String, pygmy.core.EndPoint)"><!-- --></A><H3>
add</H3>
<PRE>
public void <B>add</B>(java.lang.String&nbsp;name,
                <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core">EndPoint</A>&nbsp;endpoint)</PRE>
<DL>
<DD>This method adds an <A HREF="../../pygmy/core/EndPoint.html" title="interface in pygmy.core"><CODE>EndPoint</CODE></A> to this server.  It will be initialized once the 
 <A HREF="../../pygmy/core/Server.html#start()"><CODE>start()</CODE></A> method is called.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - The unique name of this EndPoint instance.<DD><CODE>endpoint</CODE> - The instance of the endpoint to add.</DL>
</DD>
</DL>
<HR>

<A NAME="putProperty(java.lang.Object, java.lang.Object)"><!-- --></A><H3>
putProperty</H3>
<PRE>
public void <B>putProperty</B>(java.lang.Object&nbsp;key,
                        java.lang.Object&nbsp;value)</PRE>
<DL>
<DD>This puts a configuration property into the server's configuration.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - The unique key to store the value under.<DD><CODE>value</CODE> - The value of the key.</DL>
</DD>
</DL>
<HR>

<A NAME="getProperty(java.lang.String)"><!-- --></A><H3>
getProperty</H3>
<PRE>
public java.lang.String <B>getProperty</B>(java.lang.String&nbsp;key)</PRE>
<DL>
<DD>Returns the property stored under the key.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the configuration key to look up.
<DT><B>Returns:</B><DD>the value stored in the configuration at this key.</DL>
</DD>
</DL>
<HR>

<A NAME="getProperty(java.lang.String, java.lang.String)"><!-- --></A><H3>
getProperty</H3>
<PRE>
public java.lang.String <B>getProperty</B>(java.lang.String&nbsp;key,
                                    java.lang.String&nbsp;defaultValue)</PRE>
<DL>
<DD>Returns the property stored under the key.  If there isn't a property called key, then it returns the defaultValue.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the configuration key to look up.<DD><CODE>defaultValue</CODE> - the defaultValue returned if nothing is found under the key.
<DT><B>Returns:</B><DD>the value stored in the configuration at this key.</DL>
</DD>
</DL>
<HR>

<A NAME="hasProperty(java.lang.String)"><!-- --></A><H3>
hasProperty</H3>
<PRE>
public boolean <B>hasProperty</B>(java.lang.String&nbsp;key)</PRE>
<DL>
<DD>Returns true iff the key is in the configuration
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the name of the key.
<DT><B>Returns:</B><DD>true if and only if the key is contained in the configuration. False otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="get(java.lang.Object)"><!-- --></A><H3>
get</H3>
<PRE>
public java.lang.Object <B>get</B>(java.lang.Object&nbsp;key)</PRE>
<DL>
<DD>This returns the object stored under the given key.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the key to look up the stored object.
<DT><B>Returns:</B><DD>the object stored at the given key.</DL>
</DD>
</DL>
<HR>

<A NAME="getConfig()"><!-- --></A><H3>
getConfig</H3>
<PRE>
public java.util.Properties <B>getConfig</B>()</PRE>
<DL>
<DD>Returns the configuration for the server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the configuration for the server.</DL>
</DD>
</DL>
<HR>

<A NAME="add(pygmy.core.UrlRule, pygmy.core.Handler)"><!-- --></A><H3>
add</H3>
<PRE>
public <A HREF="../../pygmy/core/Server.html" title="class in pygmy.core">Server</A> <B>add</B>(<A HREF="../../pygmy/core/UrlRule.html" title="class in pygmy.core">UrlRule</A>&nbsp;rule,
                  <A HREF="../../pygmy/core/Handler.html" title="interface in pygmy.core">Handler</A>&nbsp;handler)</PRE>
<DL>
<DD>Attaches a Handler object to this UrlRule pattern.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rule</CODE> - rule used to match against a URL.<DD><CODE>handler</CODE> - to invoke when the given rule matches a url.
<DT><B>Returns:</B><DD>the server instance for chaining.</DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public void <B>start</B>()
           throws java.io.IOException</PRE>
<DL>
<DD>This method is called to start the web server.  It will initialize the server's Handler and all the EndPoints
 then call the <A HREF="../../pygmy/core/EndPoint.html#start(pygmy.core.Server)"><CODE>EndPoint.start(pygmy.core.Server)</CODE></A> on each EndPoint.  This method will return after the above steps are
 done.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if it can't load default configuration.</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>This is called when the server is shutdown thread is called.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown()"><!-- --></A><H3>
shutdown</H3>
<PRE>
public void <B>shutdown</B>()</PRE>
<DL>
<DD>This method will shutdown the Handler, and call <A HREF="../../pygmy/core/EndPoint.html#shutdown(pygmy.core.Server)"><CODE>EndPoint.shutdown(pygmy.core.Server)</CODE></A> on each EndPoint.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="post(pygmy.core.HttpRequest, pygmy.core.HttpResponse)"><!-- --></A><H3>
post</H3>
<PRE>
public boolean <B>post</B>(<A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core">HttpRequest</A>&nbsp;request,
                    <A HREF="../../pygmy/core/HttpResponse.html" title="class in pygmy.core">HttpResponse</A>&nbsp;response)
             throws java.io.IOException</PRE>
<DL>
<DD>This method is used to post a <A HREF="../../pygmy/core/HttpRequest.html" title="class in pygmy.core"><CODE>HttpRequest</CODE></A> to the server's handler.  It will create a HttpResponse
 for the EndPoint to send to the client.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - the http request<DD><CODE>response</CODE> - the http response
<DT><B>Returns:</B><DD>A HttpResponse that corresponds to the HttpRequest being handled.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - when the underlying IO throws one.</DL>
</DD>
</DL>
<HR>

<A NAME="post(java.lang.Runnable)"><!-- --></A><H3>
post</H3>
<PRE>
public void <B>post</B>(java.lang.Runnable&nbsp;runnable)</PRE>
<DL>
<DD>This method posts a Runnable onto the Server's task queue.  The server's <A HREF="../../pygmy/core/ThreadPool.html" title="class in pygmy.core"><CODE>ThreadPool</CODE></A> will service the
 runnable once a thread is freed up.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>runnable</CODE> - An instance of Runnable that the user wishes to run on the server's <A HREF="../../pygmy/core/ThreadPool.html" title="class in pygmy.core"><CODE>ThreadPool</CODE></A>.</DL>
</DD>
</DL>
<HR>

<A NAME="getResponseListeners()"><!-- --></A><H3>
getResponseListeners</H3>
<PRE>
public <A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core">ResponseListener</A> <B>getResponseListeners</B>()</PRE>
<DL>
<DD>Returns the instance of the ResponseListener for this Server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the ResponseListener for this Server, or null if there is none.</DL>
</DD>
</DL>
<HR>

<A NAME="setResponseListener(pygmy.core.ResponseListener)"><!-- --></A><H3>
setResponseListener</H3>
<PRE>
public void <B>setResponseListener</B>(<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core">ResponseListener</A>&nbsp;listener)</PRE>
<DL>
<DD>This sets the ResponseListener for entire server.  All replys being sent to any client will
 be notified to this instance.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - the instance of a ResponseListener to use for this Server.</DL>
</DD>
</DL>
<HR>

<A NAME="configureLogging(java.util.Properties)"><!-- --></A><H3>
configureLogging</H3>
<PRE>
public void <B>configureLogging</B>(java.util.Properties&nbsp;props)
                      throws java.io.IOException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../pygmy/core/ResponseListener.html" title="interface in pygmy.core"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../pygmy/core/ServerSocketEndPoint.html" title="class in pygmy.core"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?pygmy/core/Server.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Server.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
